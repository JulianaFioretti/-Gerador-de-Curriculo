<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CV Builder AI ‚Äî Prot√≥tipo</title>
  <meta name="description" content="Gerador de Curr√≠culo Inteligente ‚Äî preview em tempo real" />
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#0f172a', 
            accent: '#2563eb', 
            soft: '#f8fafc'
          },
          fontFamily: {
            sans: ['Inter', 'ui-sans-serif', 'system-ui']
          }
        }
      }
    }
  </script>
  <style>
   
    html, body, #app { height: 100%; }
    
    .col-scroll { height: calc(100vh - 4rem); overflow-y: auto; padding-bottom: 2rem; }
    
    .empty-field { opacity: 0.4; font-style: italic; }
   
    .paper { background: linear-gradient(180deg, white, #fbfdff); box-shadow: 0 6px 20px rgba(2,6,23,0.08); border-radius: 12px; }
  </style>
</head>
<body class="bg-soft font-sans text-primary">
  <div id="app" class="min-h-screen flex flex-col">
    
    <header class="h-16 bg-white/80 backdrop-blur border-b border-slate-100 flex items-center px-6">
      <div class="flex items-center gap-4">
        <div class="w-10 h-10 rounded-lg bg-accent flex items-center justify-center text-white font-semibold">CV</div>
        <div>
          <h1 class="text-lg font-semibold">CV Builder AI</h1>
          <p class="text-sm text-slate-500">Prot√≥tipo ‚Äî preview em tempo real e listas din√¢micas</p>
        </div>
      </div>
      <div class="ml-auto text-sm text-slate-500">Layout desktop ‚Ä¢ 50 / 50 split</div>
    </header>

    
    <main class="flex-1 flex">
      
      <section class="w-1/2 p-6 overflow-hidden">
        <div class="col-scroll">
          <form id="cv-form" class="space-y-6">
            
            <div class="paper p-5">
              <h2 class="text-xl font-semibold mb-3">Dados Pessoais</h2>
              <div class="grid grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-medium">Nome</label>
                  <input id="name" name="name" type="text" placeholder="Jo√£o da Silva" class="mt-1 w-full rounded-md border px-3 py-2 focus:ring-2 focus:ring-accent" />
                  <p id="name-error" class="text-red-500 text-xs mt-1 hidden">Nome obrigat√≥rio</p>
                </div>
                <div>
                  <label class="block text-sm font-medium">LinkedIn</label>
                  <input id="linkedin" name="linkedin" type="url" placeholder="https://linkedin.com/in/username" class="mt-1 w-full rounded-md border px-3 py-2" />
                </div>

                <div>
                  <label class="block text-sm font-medium">Email</label>
                  <input id="email" name="email" type="email" placeholder="meu@email.com" class="mt-1 w-full rounded-md border px-3 py-2" />
                  <p id="email-error" class="text-red-500 text-xs mt-1 hidden">Email inv√°lido</p>
                </div>
                <div>
                  <label class="block text-sm font-medium">Telefone</label>
                  <input id="phone" name="phone" type="tel" placeholder="(11) 9 9999-9999" class="mt-1 w-full rounded-md border px-3 py-2" />
                  <p id="phone-error" class="text-red-500 text-xs mt-1 hidden">Telefone inv√°lido</p>
                </div>
              </div>

              <div class="mt-4">
                <label class="block text-sm font-medium">Resumo profissional</label>
                <textarea id="summary" maxlength="500" rows="4" placeholder="Resumo sucinto ‚Äî destaque suas compet√™ncias e objetivo" class="mt-1 w-full rounded-md border px-3 py-2 resize-none"></textarea>
                <div class="flex justify-between items-center mt-1 text-xs text-slate-500">
                  <div id="summary-hint">Sugest√£o: 2-4 linhas, focadas em resultados.</div>
                  <div><span id="summary-count">0</span>/500</div>
                </div>
              </div>

              <div class="mt-4 flex justify-end">
                <button id="ai-enhance" type="button" class="inline-flex items-center gap-2 px-4 py-2 bg-accent text-white rounded-md hover:brightness-105">
                  üí° Melhorar com IA
                </button>
              </div>
            </div>

            
            <div class="paper p-5">
              <h2 class="text-xl font-semibold mb-3">Habilidades</h2>
              <div id="skills-list" class="space-y-3">
                
              </div>

              <div class="mt-4 flex gap-2">
                <input id="skill-input" type="text" placeholder="Nome da habilidade (ex: JavaScript)" class="flex-1 rounded-md border px-3 py-2" />
                <select id="skill-level" class="rounded-md border px-3 py-2">
                  <option value="B√°sico">B√°sico</option>
                  <option value="Intermedi√°rio" selected>Intermedi√°rio</option>
                  <option value="Avan√ßado">Avan√ßado</option>
                </select>
                <button id="add-skill" type="button" class="px-4 py-2 bg-green-600 text-white rounded-md">Adicionar</button>
              </div>
            </div>

           
            <div class="paper p-5">
              <h2 class="text-xl font-semibold mb-3">Experi√™ncias</h2>
              <div id="experiences-list" class="space-y-4">
                
              </div>

              <div class="mt-4 border-t pt-4">
                <button id="add-experience" type="button" class="px-4 py-2 bg-indigo-600 text-white rounded-md">Adicionar experi√™ncia</button>
              </div>
            </div>

            <div class="mt-6 flex gap-3 justify-end">
              <button id="download-pdf" type="button" class="px-4 py-2 bg-primary text-white rounded-md">Baixar (mock)</button>
              <button type="reset" id="reset-btn" class="px-4 py-2 border rounded-md">Limpar</button>
            </div>
          </form>
        </div>
      </section>

      
      <aside class="w-1/2 p-6 bg-gradient-to-b from-white to-slate-50">
        <div class="col-scroll flex justify-center">
          <div id="cv-preview" class="w-[820px] paper p-8">
            <!-- Header -->
            <div class="flex justify-between items-start">
              <div>
                <h2 id="preview-name" class="text-2xl font-bold">Seu Nome Aqui</h2>
                <div class="text-sm text-slate-600" id="preview-contact">email ‚Ä¢ telefone ‚Ä¢ linkedin</div>
              </div>
              <div class="text-right">
                <div id="preview-summary" class="mt-2 max-w-[320px] text-sm text-slate-700 empty-field">Resumo profissional aparecer√° aqui.</div>
              </div>
            </div>

            <hr class="my-5 border-slate-100" />

            <section>
              <h3 class="text-lg font-semibold mb-3">Habilidades</h3>
              <ul id="preview-skills" class="grid grid-cols-2 gap-2 text-sm text-slate-700">
               
              </ul>
            </section>

            <hr class="my-5 border-slate-100" />

            <section>
              <h3 class="text-lg font-semibold mb-3">Experi√™ncias</h3>
              <div id="preview-experiences" class="space-y-4 text-sm text-slate-700">
               
              </div>
            </section>

            <div class="mt-6 text-xs text-slate-400">* Campos vazios aparecem com indica√ß√£o visual. Este √© um prot√≥tipo.</div>
          </div>
        </div>
      </aside>
    </main>
  </div>

  
  <script>
    
    const state = {
      name: '',
      email: '',
      phone: '',
      linkedin: '',
      summary: '',
      skills: [],
      experiences: []
    };

    
    function createEl(html) {
      const template = document.createElement('template');
      template.innerHTML = html.trim();
      return template.content.firstChild;
    }

   
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const phoneRegex = /^[0-9 ()+-]{8,20}$/;

    
    const refs = {
      name: document.getElementById('name'),
      email: document.getElementById('email'),
      phone: document.getElementById('phone'),
      linkedin: document.getElementById('linkedin'),
      summary: document.getElementById('summary'),
      summaryCount: document.getElementById('summary-count'),
      nameError: document.getElementById('name-error'),
      emailError: document.getElementById('email-error'),
      phoneError: document.getElementById('phone-error'),
      skillsList: document.getElementById('skills-list'),
      skillInput: document.getElementById('skill-input'),
      skillLevel: document.getElementById('skill-level'),
      addSkillBtn: document.getElementById('add-skill'),
      experiencesList: document.getElementById('experiences-list'),
      addExperienceBtn: document.getElementById('add-experience'),
      previewName: document.getElementById('preview-name'),
      previewContact: document.getElementById('preview-contact'),
      previewSummary: document.getElementById('preview-summary'),
      previewSkills: document.getElementById('preview-skills'),
      previewExperiences: document.getElementById('preview-experiences'),
      aiEnhanceBtn: document.getElementById('ai-enhance'),
      downloadPdfBtn: document.getElementById('download-pdf'),
      resetBtn: document.getElementById('reset-btn')
    };

    
    function syncPreview() {
      refs.previewName.textContent = state.name || 'Seu Nome Aqui';
      let contactParts = [];
      if (state.email) contactParts.push(state.email);
      if (state.phone) contactParts.push(state.phone);
      if (state.linkedin) contactParts.push(state.linkedin);
      refs.previewContact.textContent = contactParts.join(' ‚Ä¢ ') || 'email ‚Ä¢ telefone ‚Ä¢ linkedin';

      
      if (state.summary.trim()) {
        refs.previewSummary.classList.remove('empty-field');
        refs.previewSummary.textContent = state.summary;
      } else {
        refs.previewSummary.classList.add('empty-field');
        refs.previewSummary.textContent = 'Resumo profissional aparecer√° aqui.';
      }

      
      refs.previewSkills.innerHTML = '';
      if (state.skills.length === 0) {
        refs.previewSkills.innerHTML = '<li class="empty-field">Nenhuma habilidade adicionada.</li>';
      } else {
        state.skills.forEach(s => {
          const li = document.createElement('li');
          li.className = 'flex items-center gap-2';
          li.innerHTML = `<span class="font-medium">${escapeHtml(s.name)}</span><span class="text-xs text-slate-500">(${s.level})</span>`;
          refs.previewSkills.appendChild(li);
        });
      }

      
      refs.previewExperiences.innerHTML = '';
      if (state.experiences.length === 0) {
        refs.previewExperiences.innerHTML = '<div class="empty-field">Nenhuma experi√™ncia registrada.</div>';
      } else {
        state.experiences.forEach((e, idx) => {
          const exp = document.createElement('div');
          exp.className = 'border-l-2 border-slate-100 pl-3';
          const period = e.current ? `${escapeHtml(e.periodStart)} ‚Äî Atualmente` : `${escapeHtml(e.periodStart)} ‚Äî ${escapeHtml(e.periodEnd || '')}`;
          exp.innerHTML = `
            <div class="flex justify-between">
              <div>
                <div class="font-medium">${escapeHtml(e.role || 'Cargo n√£o informado')}</div>
                <div class="text-xs text-slate-500">${escapeHtml(e.company || 'Empresa n√£o informada')}</div>
              </div>
              <div class="text-xs text-slate-500">${period}</div>
            </div>
            <div class="mt-1 text-sm text-slate-700 ${!e.description ? 'empty-field' : ''}">
              ${e.description || 'Descri√ß√£o da experi√™ncia.'}
            </div>
          `;
          refs.previewExperiences.appendChild(exp);
        });
      }
    }

    
    function escapeHtml(str) {
      return String(str).replace(/[&<>"']/g, s => ({
        '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'
      }[s]));
    }

    
    refs.name.addEventListener('input', (e) => {
      state.name = e.target.value;
      refs.nameError.classList.toggle('hidden', !!state.name.trim());
      syncPreview();
    });

    refs.email.addEventListener('input', (e) => {
      state.email = e.target.value;
      const valid = !state.email || emailRegex.test(state.email);
      refs.emailError.classList.toggle('hidden', valid);
      syncPreview();
    });

    refs.phone.addEventListener('input', (e) => {
      state.phone = e.target.value;
      const valid = !state.phone || phoneRegex.test(state.phone);
      refs.phoneError.classList.toggle('hidden', valid);
      syncPreview();
    });

    refs.linkedin.addEventListener('input', (e) => {
      state.linkedin = e.target.value;
      syncPreview();
    });

    refs.summary.addEventListener('input', (e) => {
      state.summary = e.target.value;
      refs.summaryCount.textContent = state.summary.length;
      syncPreview();
    });

    
    function renderSkills() {
      refs.skillsList.innerHTML = '';
      state.skills.forEach((s, idx) => {
        const item = createEl(`
          <div class="flex items-center gap-2">
            <div class="flex-1">
              <input data-idx="${idx}" class="skill-name mt-1 w-full rounded-md border px-3 py-2" value="${escapeHtml(s.name)}" />
            </div>
            <div>
              <select data-idx="${idx}" class="skill-level rounded-md border px-3 py-2">
                <option ${s.level==='B√°sico'?'selected':''}>B√°sico</option>
                <option ${s.level==='Intermedi√°rio'?'selected':''}>Intermedi√°rio</option>
                <option ${s.level==='Avan√ßado'?'selected':''}>Avan√ßado</option>
              </select>
            </div>
            <button data-idx="${idx}" class="remove-skill px-3 py-2 text-sm text-red-600 rounded-md">Remover</button>
          </div>
        `);
        refs.skillsList.appendChild(item);
      });

      
      refs.skillsList.querySelectorAll('.skill-name').forEach(el => {
        el.addEventListener('input', (ev) => {
          const i = +ev.target.dataset.idx;
          state.skills[i].name = ev.target.value;
          syncPreview();
        });
      });
      refs.skillsList.querySelectorAll('.skill-level').forEach(el => {
        el.addEventListener('change', (ev) => {
          const i = +ev.target.dataset.idx;
          state.skills[i].level = ev.target.value;
          syncPreview();
        });
      });
      refs.skillsList.querySelectorAll('.remove-skill').forEach(btn => {
        btn.addEventListener('click', (ev) => {
          const i = +btn.dataset.idx;
          state.skills.splice(i,1);
          renderSkills();
          syncPreview();
        });
      });
    }

    refs.addSkillBtn.addEventListener('click', () => {
      const name = refs.skillInput.value.trim();
      const level = refs.skillLevel.value;
      if (!name) { refs.skillInput.focus(); return; }
      state.skills.push({ name, level });
      refs.skillInput.value = '';
      renderSkills();
      syncPreview();
    });

    
    function renderExperiences() {
      refs.experiencesList.innerHTML = '';
      state.experiences.forEach((e, idx) => {
        const item = createEl(`
          <div class="border rounded-md p-3">
            <div class="flex gap-2">
              <input data-idx="${idx}" class="exp-company flex-1 rounded-md border px-3 py-2" placeholder="Empresa" value="${escapeHtml(e.company || '')}" />
              <input data-idx="${idx}" class="exp-role flex-1 rounded-md border px-3 py-2" placeholder="Cargo" value="${escapeHtml(e.role || '')}" />
            </div>
            <div class="flex gap-2 mt-2 items-center">
              <input data-idx="${idx}" class="exp-start rounded-md border px-3 py-2" placeholder="In√≠cio (MM/AAAA)" value="${escapeHtml(e.periodStart || '')}" />
              <input data-idx="${idx}" class="exp-end rounded-md border px-3 py-2" placeholder="Fim (MM/AAAA)" value="${escapeHtml(e.periodEnd || '')}" ${e.current ? 'disabled' : ''} />
              <label class="flex items-center gap-2 text-sm"><input data-idx="${idx}" type="checkbox" class="exp-current" ${e.current ? 'checked' : ''} /> Trabalho atual</label>
              <button data-idx="${idx}" class="remove-exp ml-auto text-red-600">Remover</button>
            </div>
            <div class="mt-2">
              <textarea data-idx="${idx}" class="exp-desc mt-1 w-full rounded-md border px-3 py-2" rows="3" placeholder="Descri√ß√£o das atividades">${escapeHtml(e.description || '')}</textarea>
            </div>
          </div>
        `);
        refs.experiencesList.appendChild(item);
      });

      
      refs.experiencesList.querySelectorAll('.exp-company').forEach(el => {
        el.addEventListener('input', (ev) => {
          const i = +ev.target.dataset.idx;
          state.experiences[i].company = ev.target.value;
          syncPreview();
        });
      });
      refs.experiencesList.querySelectorAll('.exp-role').forEach(el => {
        el.addEventListener('input', (ev) => {
          const i = +ev.target.dataset.idx;
          state.experiences[i].role = ev.target.value;
          syncPreview();
        });
      });
      refs.experiencesList.querySelectorAll('.exp-start').forEach(el => {
        el.addEventListener('input', (ev) => {
          const i = +ev.target.dataset.idx;
          state.experiences[i].periodStart = ev.target.value;
          syncPreview();
        });
      });
      refs.experiencesList.querySelectorAll('.exp-end').forEach(el => {
        el.addEventListener('input', (ev) => {
          const i = +ev.target.dataset.idx;
          state.experiences[i].periodEnd = ev.target.value;
          syncPreview();
        });
      });
      refs.experiencesList.querySelectorAll('.exp-current').forEach(chk => {
        chk.addEventListener('change', (ev) => {
          const i = +chk.dataset.idx;
          state.experiences[i].current = chk.checked;
          // disable end input if current
          const endInput = refs.experiencesList.querySelector('.exp-end[data-idx="'+i+'"]');
          if (endInput) endInput.disabled = chk.checked;
          syncPreview();
        });
      });
      refs.experiencesList.querySelectorAll('.exp-desc').forEach(el => {
        el.addEventListener('input', (ev) => {
          const i = +ev.target.dataset.idx;
          state.experiences[i].description = ev.target.value;
          syncPreview();
        });
      });
      refs.experiencesList.querySelectorAll('.remove-exp').forEach(btn => {
        btn.addEventListener('click', () => {
          const i = +btn.dataset.idx;
          state.experiences.splice(i,1);
          renderExperiences();
          syncPreview();
        });
      });
    }

    refs.addExperienceBtn.addEventListener('click', () => {
      state.experiences.push({
        company: '',
        role: '',
        periodStart: '',
        periodEnd: '',
        current: false,
        description: ''
      });
      renderExperiences();
      syncPreview();
    });

    
    refs.aiEnhanceBtn.addEventListener('click', () => {
      
      const original = state.summary.trim();
      refs.aiEnhanceBtn.disabled = true;
      refs.aiEnhanceBtn.textContent = 'Gerando...';
      setTimeout(() => {
        if (original) {
          state.summary = original + ' ‚Ä¢ Experiente em entrega de solu√ß√µes orientadas a resultados, com foco em efici√™ncia e comunica√ß√£o clara.';
        } else {
          state.summary = 'Profissional dedicado com hist√≥rico de resultados em projetos de tecnologia e foco em melhoria cont√≠nua. Apaixonado por desenvolvimento, com boa comunica√ß√£o e trabalho em equipe.';
        }
        refs.summary.value = state.summary;
        refs.summaryCount.textContent = state.summary.length;
        syncPreview();
        refs.aiEnhanceBtn.disabled = false;
        refs.aiEnhanceBtn.innerHTML = 'üí° Melhorar com IA';
      }, 900);
    });

    
    refs.downloadPdfBtn.addEventListener('click', () => {
      alert('Funcionalidade de download/PDF n√£o implementada neste prot√≥tipo.\nNo app completo integraremos gera√ß√£o de PDF via backend ou libs cliente.');
    });

    
    refs.resetBtn.addEventListener('click', () => {
      setTimeout(() => {
        
        state.name = state.email = state.phone = state.linkedin = state.summary = '';
        state.skills = [];
        state.experiences = [];
        refs.summaryCount.textContent = '0';
        renderSkills();
        renderExperiences();
        syncPreview();
      }, 10);
    });

    
    refs.email.addEventListener('blur', () => {
      refs.emailError.classList.toggle('hidden', !refs.email.value || emailRegex.test(refs.email.value));
    });
    refs.phone.addEventListener('blur', () => {
      refs.phoneError.classList.toggle('hidden', !refs.phone.value || phoneRegex.test(refs.phone.value));
    });
    refs.name.addEventListener('blur', () => {
      refs.nameError.classList.toggle('hidden', !!refs.name.value.trim());
    });

    
    (function init(){
    
      state.skills = [{ name: 'JavaScript', level: 'Avan√ßado' }];
      state.experiences = [{
        company: 'Empresa Exemplo',
        role: 'Desenvolvedor Front-end',
        periodStart: '01/2021',
        periodEnd: '12/2023',
        current: false,
        description: 'Desenvolvimento de interfaces responsivas, otimiza√ß√£o de performance e colabora√ß√£o em times √°geis.'
      }];
      renderSkills();
      renderExperiences();
      syncPreview();
    })();
    

  </script>
</body>
</html>
